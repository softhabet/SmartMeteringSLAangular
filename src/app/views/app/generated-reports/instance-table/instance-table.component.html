<app-list-page-header [showOrderBy]="false" [showSelectAll]="false" [showDisplayMode]="false"
  (searchKeyUp)="search($event)" (itemsPerPageChange)="onItemsPerPageChange($event)" [itemsPerPage]="itemsPerPage"
  [itemOptionsPerPage]="itemOptionsPerPage" (addNewItem)="gotToReportGeneration()"
  (changeTypeBy)="changeTypeBy($event)">
</app-list-page-header>

<context-menu #basicMenu>
  <ng-template contextMenuItem let-item (execute)="onContextMenuClick('csv',$event.item)">
    <i class="bi bi-filetype-csv mr-1"></i> <span>Download CSV</span>
  </ng-template>
  <ng-template contextMenuItem let-item (execute)="onContextMenuClick('pdf',$event.item)">
    <i class="bi bi-filetype-pdf mr-1"></i> <span>Download PDF</span>
  </ng-template>
  <ng-template contextMenuItem let-item (execute)="onContextMenuClick('excel',$event.item)">
    <i class="bi bi-filetype-xlsx mr-1"></i> <span>Download EXCEL</span>
  </ng-template>
  <ng-template contextMenuItem let-item (execute)="onContextMenuClick('details',$event.item)">
    <i class="iconsminds-magnifi-glass mr-1"></i><span>Report details</span>
  </ng-template>
  <ng-template contextMenuItem let-item (execute)="onContextMenuClick('delete',$event.item)">
    <i class="simple-icon-trash mr-1"></i><span>Delete</span>
  </ng-template>
</context-menu>

<div class="card">
  <div class="card-body">
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Report file name</th>
          <th scope="col">Report Name</th>
          <th scope="col">Report type</th>
          <th scope="col">Creation date</th>
          <th scope="col">Report size</th>
          <th scope="col">Line count</th>
          <th scope="col">Compressed</th>
          <th scope="col">Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let i of instancesList" [contextMenu]="basicMenu" [contextMenuSubject]="i">
          <td>{{i.reportInstanceFileName}}</td>
          <td>{{i.reportName}}</td>
          <td>{{i.reportType}}</td>
          <td>{{formatDate(i.creationDate)}}</td>
          <td>{{i.reportSize}}</td>
          <td>{{i.lineCount}}</td>
          <td>{{i.isCompressed}}</td>
          <td>{{i.status}}</td>
        </tr>
      </tbody>
    </table>

    <div class="col-12">
      <pagination [totalItems]="totalItem" [itemsPerPage]="itemsPerPage" [rotate]="true" [maxSize]="5"
        [(ngModel)]="currentPage" (pageChanged)="pageChanged($event)" class="justify-content-center"
        [customPreviousTemplate]="prevTemplate" [customNextTemplate]="nextTemplate">
      </pagination>
      <ng-template #prevTemplate><i class='simple-icon-arrow-left'></i></ng-template>
      <ng-template #nextTemplate><i class='simple-icon-arrow-right'></i></ng-template>
    </div>

  </div>
</div>
<simple-notifications></simple-notifications>
